{"dependencies":[{"name":"./util/cloneDeep","loc":{"line":1,"column":26}},{"name":"./getFromAST","loc":{"line":2,"column":103}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.removeDirectivesFromDocument=o,exports.addTypenameToDocument=a,exports.removeConnectionDirectiveFromDocument=l;var e=require(\"./util/cloneDeep\"),n=require(\"./getFromAST\"),t={kind:\"Field\",name:{kind:\"Name\",value:\"__typename\"}};function i(e,n){if(void 0===n&&(n=!1),e.selections){if(!n)e.selections.some(function(e){return\"Field\"===e.kind&&\"__typename\"===e.name.value})||e.selections.push(t);e.selections.forEach(function(e){\"Field\"===e.kind?0!==e.name.value.lastIndexOf(\"__\",0)&&e.selectionSet&&i(e.selectionSet):\"InlineFragment\"===e.kind&&e.selectionSet&&i(e.selectionSet)})}}function r(e,n){if(!n.selections)return n;var t=e.some(function(e){return e.remove});return n.selections=n.selections.map(function(n){return\"Field\"===n.kind&&n&&n.directives?(n.directives=n.directives.filter(function(n){var r=!e.some(function(e){return!(!e.name||e.name!==n.name.value)||!(!e.test||!e.test(n))});return i||r||!t||(i=!0),r}),i?null:n):n;var i}).filter(function(e){return!!e}),n.selections.forEach(function(n){\"Field\"!==n.kind&&\"InlineFragment\"!==n.kind||!n.selectionSet||r(e,n.selectionSet)}),n}function o(t,i){var o=(0,e.cloneDeep)(i);o.definitions.forEach(function(e){r(t,e.selectionSet)});var c=(0,n.getOperationDefinitionOrDie)(o),a=(0,n.createFragmentMap)((0,n.getFragmentDefinitions)(o)),u=function(e){return e.selectionSet.selections.filter(function(e){return!(e&&\"FragmentSpread\"===e.kind&&!u(a[e.name.value]))}).length>0};return u(c)?o:null}var c=new Map;function a(t){(0,n.checkDocument)(t);var r=c.get(t);if(r)return r;var o=(0,e.cloneDeep)(t);return o.definitions.forEach(function(e){var n=\"OperationDefinition\"===e.kind;i(e.selectionSet,n)}),c.set(t,o),o}var u={test:function(e){var n=\"connection\"===e.name.value;return n&&(e.arguments&&e.arguments.some(function(e){return\"key\"===e.name.value})||console.warn(\"Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.\")),n}},s=new Map;function l(e){(0,n.checkDocument)(e);var t=s.get(e);if(t)return t;var i=o([u],e);return s.set(e,i),i}"},"hash":"e8172d88068c243d6bbe50ea74eb5366","cacheData":{"env":{}}}