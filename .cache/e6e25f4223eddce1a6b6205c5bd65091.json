{"dependencies":[{"name":"./char.js","loc":{"line":3,"column":38}},{"name":"./list.js","loc":{"line":4,"column":38}},{"name":"./curry.js","loc":{"line":5,"column":38}},{"name":"./caml_obj.js","loc":{"line":6,"column":38}},{"name":"./caml_int32.js","loc":{"line":7,"column":38}},{"name":"./pervasives.js","loc":{"line":8,"column":38}},{"name":"./caml_string.js","loc":{"line":9,"column":38}},{"name":"./caml_builtin_exceptions.js","loc":{"line":10,"column":38}}],"generated":{"js":"\"use strict\";var r=require(\"./char.js\"),t=require(\"./list.js\"),e=require(\"./curry.js\"),n=require(\"./caml_obj.js\"),i=require(\"./caml_int32.js\"),o=require(\"./pervasives.js\"),s=require(\"./caml_string.js\"),a=require(\"./caml_builtin_exceptions.js\");function c(r,t){var e=s.caml_create_string(r);return s.caml_fill_string(e,0,r,t),e}function u(r,t){for(var n=s.caml_create_string(r),i=0,o=r-1|0;i<=o;++i)n[i]=e._1(t,i);return n}var l=[];function f(r){var t=r.length,e=s.caml_create_string(t);return s.caml_blit_bytes(r,0,e,0,t),e}function _(r){return s.bytes_to_string(f(r))}function g(r){return f(s.bytes_of_string(r))}function m(r,t,e){if(t<0||e<0||t>(r.length-e|0))throw[a.invalid_argument,\"String.sub / Bytes.sub\"];var n=s.caml_create_string(e);return s.caml_blit_bytes(r,t,n,0,e),n}function p(r,t,e){return s.bytes_to_string(m(r,t,e))}function h(r,t,e){var n=(r.length+t|0)+e|0,i=s.caml_create_string(n),a=t<0?[0|-t,0]:[0,t],c=a[1],u=a[0],l=o.min(r.length-u|0,n-c|0);return l>0&&s.caml_blit_bytes(r,u,i,c,l),i}function x(r,t,e,n){if(t<0||e<0||t>(r.length-e|0))throw[a.invalid_argument,\"String.fill / Bytes.fill\"];return s.caml_fill_string(r,t,e,n)}function v(r,t,e,n,i){if(i<0||t<0||t>(r.length-i|0)||n<0||n>(e.length-i|0))throw[a.invalid_argument,\"Bytes.blit\"];return s.caml_blit_bytes(r,t,e,n,i)}function b(r,t,e,n,i){if(i<0||t<0||t>(r.length-i|0)||n<0||n>(e.length-i|0))throw[a.invalid_argument,\"String.blit / Bytes.blit_string\"];return s.caml_blit_string(r,t,e,n,i)}function y(r,t){for(var n=0,i=t.length-1|0;n<=i;++n)e._1(r,t[n]);return 0}function d(r,t){for(var n=0,i=t.length-1|0;n<=i;++n)e._2(r,n,t[n]);return 0}function w(r,e){if(e){var n=e[0],o=[0],a=[0];t.iter(function(r){return o[0]=o[0]+1|0,a[0]=a[0]+r.length|0,0},e);var c=s.caml_create_string(a[0]+i.imul(r.length,o[0]-1|0)|0);s.caml_blit_bytes(n,0,c,0,n.length);var u=[n.length];return t.iter(function(t){return s.caml_blit_bytes(r,0,c,u[0],r.length),u[0]=u[0]+r.length|0,s.caml_blit_bytes(t,0,c,u[0],t.length),u[0]=u[0]+t.length|0,0},e[1]),c}return l}function j(r,t){return r.concat(t)}function q(r){var t=r-9|0;return t>4||t<0?23!==t?0:1:2!==t?1:0}function B(r){for(var t=r.length,e=0;e<t&&q(r[e]);)e=e+1|0;for(var n=t-1|0;n>=e&&q(r[n]);)n=n-1|0;return n>=e?m(r,e,1+(n-e|0)|0):l}function S(r){for(var t=0,e=0,n=r.length-1|0;e<=n;++e){var i,o=r[e];if(o>=32){var a=o-34|0;i=a>58||a<0?a>=93?4:1:a>57||a<1?2:1}else i=o>=11?13!==o?4:2:o>=8?2:4;t=t+i|0}if(t===r.length)return f(r);var c=s.caml_create_string(t);t=0;for(var u=0,l=r.length-1|0;u<=l;++u){var _=r[u],g=0;if(_>=35)92!==_?_>=127?g=1:c[t]=_:g=2;else if(_>=32)_>=34?g=2:c[t]=_;else if(_>=14)g=1;else switch(_){case 8:c[t]=92,c[t=t+1|0]=98;break;case 9:c[t]=92,c[t=t+1|0]=116;break;case 10:c[t]=92,c[t=t+1|0]=110;break;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:g=1;break;case 13:c[t]=92,c[t=t+1|0]=114}switch(g){case 1:c[t]=92,c[t=t+1|0]=48+(_/100|0)|0,c[t=t+1|0]=48+(_/10|0)%10|0,c[t=t+1|0]=48+_%10|0;break;case 2:c[t]=92,c[t=t+1|0]=_}t=t+1|0}return c}function k(r,t){var n=t.length;if(n){for(var i=s.caml_create_string(n),o=0,a=n-1|0;o<=a;++o)i[o]=e._1(r,t[o]);return i}return t}function z(r,t){var n=t.length;if(n){for(var i=s.caml_create_string(n),o=0,a=n-1|0;o<=a;++o)i[o]=e._2(r,o,t[o]);return i}return t}function A(t){return k(r.uppercase,t)}function C(t){return k(r.lowercase,t)}function D(r,t){if(t.length){var n=f(t);return n[0]=e._1(r,t[0]),n}return t}function E(t){return D(r.uppercase,t)}function F(t){return D(r.lowercase,t)}function G(r,t,e,n){for(;;){var i=e;if(i>=t)throw a.not_found;if(r[i]===n)return i;e=i+1|0}}function H(r,t){return G(r,r.length,0,t)}function I(r,t,e){var n=r.length;if(t<0||t>n)throw[a.invalid_argument,\"String.index_from / Bytes.index_from\"];return G(r,n,t,e)}function J(r,t,e){for(;;){var n=t;if(n<0)throw a.not_found;if(r[n]===e)return n;t=n-1|0}}function K(r,t){return J(r,r.length-1|0,t)}function L(r,t,e){if(t<-1||t>=r.length)throw[a.invalid_argument,\"String.rindex_from / Bytes.rindex_from\"];return J(r,t,e)}function M(r,t,e){var n=r.length;if(t<0||t>n)throw[a.invalid_argument,\"String.contains_from / Bytes.contains_from\"];try{return G(r,n,t,e),1}catch(r){if(r===a.not_found)return 0;throw r}}function N(r,t){return M(r,0,t)}function O(r,t,e){if(t<0||t>=r.length)throw[a.invalid_argument,\"String.rcontains_from / Bytes.rcontains_from\"];try{return J(r,t,e),1}catch(r){if(r===a.not_found)return 0;throw r}}var P=n.caml_compare,Q=s.bytes_to_string,R=s.bytes_of_string;exports.make=c,exports.init=u,exports.empty=l,exports.copy=f,exports.of_string=g,exports.to_string=_,exports.sub=m,exports.sub_string=p,exports.extend=h,exports.fill=x,exports.blit=v,exports.blit_string=b,exports.concat=w,exports.cat=j,exports.iter=y,exports.iteri=d,exports.map=k,exports.mapi=z,exports.trim=B,exports.escaped=S,exports.index=H,exports.rindex=K,exports.index_from=I,exports.rindex_from=L,exports.contains=N,exports.contains_from=M,exports.rcontains_from=O,exports.uppercase=A,exports.lowercase=C,exports.capitalize=E,exports.uncapitalize=F,exports.compare=P,exports.unsafe_to_string=Q,exports.unsafe_of_string=R;"},"hash":"1ecce8716d09671f54d47c619d79811d","cacheData":{"env":{}}}