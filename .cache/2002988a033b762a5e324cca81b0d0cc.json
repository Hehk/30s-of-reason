{"dependencies":[{"name":"apollo-utilities","loc":{"line":9,"column":24}},{"name":"../core/networkStatus","loc":{"line":10,"column":30}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.QueryStore=void 0;var t=require(\"apollo-utilities\"),r=require(\"../core/networkStatus\"),e=Object.assign||function(t){for(var r,e=1,o=arguments.length;e<o;e++)for(var s in r=arguments[e])Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);return t},o=function(){function o(){this.store={}}return o.prototype.getStore=function(){return this.store},o.prototype.get=function(t){return this.store[t]},o.prototype.initQuery=function(e){var o=this.store[e.queryId];if(o&&o.queryString!==e.queryString)throw new Error(\"Internal Error: may not update existing query string in store\");var s,i=!1,n=null;e.storePreviousVariables&&o&&o.networkStatus!==r.NetworkStatus.loading&&((0,t.isEqual)(o.variables,e.variables)||(i=!0,n=o.variables)),s=i?r.NetworkStatus.setVariables:e.isPoll?r.NetworkStatus.poll:e.isRefetch?r.NetworkStatus.refetch:r.NetworkStatus.loading;var u=[];o&&o.graphQLErrors&&(u=o.graphQLErrors),this.store[e.queryId]={queryString:e.queryString,document:e.document,variables:e.variables,previousVariables:n,networkError:null,graphQLErrors:u,networkStatus:s,metadata:e.metadata},\"string\"==typeof e.fetchMoreForQueryId&&(this.store[e.fetchMoreForQueryId].networkStatus=r.NetworkStatus.fetchMore)},o.prototype.markQueryResult=function(t,e,o){this.store[t]&&(this.store[t].networkError=null,this.store[t].graphQLErrors=e.errors&&e.errors.length?e.errors:[],this.store[t].previousVariables=null,this.store[t].networkStatus=r.NetworkStatus.ready,\"string\"==typeof o&&(this.store[o].networkStatus=r.NetworkStatus.ready))},o.prototype.markQueryError=function(t,e,o){this.store[t]&&(this.store[t].networkError=e,this.store[t].networkStatus=r.NetworkStatus.error,\"string\"==typeof o&&this.markQueryError(o,e,void 0))},o.prototype.markQueryResultClient=function(t,e){this.store[t]&&(this.store[t].networkError=null,this.store[t].previousVariables=null,this.store[t].networkStatus=e?r.NetworkStatus.ready:r.NetworkStatus.loading)},o.prototype.stopQuery=function(t){delete this.store[t]},o.prototype.reset=function(t){var o=this;this.store=Object.keys(this.store).filter(function(r){return t.indexOf(r)>-1}).reduce(function(t,s){return t[s]=e({},o.store[s],{networkStatus:r.NetworkStatus.loading}),t},{})},o}();exports.QueryStore=o;"},"hash":"4651904688d88ee971d6285eb3b5d160","cacheData":{"env":{}}}