{"dependencies":[{"name":"graphql-anywhere","loc":{"line":9,"column":28}},{"name":"apollo-utilities","loc":{"line":10,"column":112}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ID_KEY=void 0,exports.readQueryFromStore=s,exports.diffQueryAgainstStore=o,exports.assertIdValue=l;var e=require(\"graphql-anywhere\"),r=i(e),t=require(\"apollo-utilities\");function i(e){return e&&e.__esModule?e:{default:e}}var u=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var u in r=arguments[t])Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u]);return e},n=exports.ID_KEY=\"undefined\"!=typeof Symbol?Symbol(\"id\"):\"@@id\";function s(e){return o(u({},e,{returnPartialData:!1})).result}var a=function(e,r,i,u,n){var s=n.resultKey,a=n.directives;l(r);var o=r.id,f=u.store.get(o),v=(0,t.getStoreKeyName)(e,i,a),d=(f||{})[v];if(void 0===d&&u.cacheResolvers&&f&&(f.__typename||\"ROOT_QUERY\"===o)){var p=f.__typename||\"Query\",y=u.cacheResolvers[p];if(y){var h=y[e];h&&(d=h(f,i))}}if(void 0===d){if(!u.returnPartialData)throw new Error(\"Can't find field \"+v+\" on object (\"+o+\") \"+JSON.stringify(f,null,2)+\".\");return u.hasMissingField=!0,d}return(0,t.isJsonValue)(d)?r.previousResult&&(0,t.isEqual)(r.previousResult[s],d.json)?r.previousResult[s]:d.json:(r.previousResult&&(d=c(d,r.previousResult[s])),d)};function o(e){var i=e.store,u=e.query,n=e.variables,s=e.previousResult,o=e.returnPartialData,l=void 0===o||o,c=e.rootId,v=void 0===c?\"ROOT_QUERY\":c,d=e.fragmentMatcherFunction,p=e.config,y=(0,t.getQueryDefinition)(u);n=(0,t.assign)({},(0,t.getDefaultValues)(y),n);var h={store:i,returnPartialData:l,cacheResolvers:p&&p.cacheResolvers||{},hasMissingField:!1},g={type:\"id\",id:v,previousResult:s};return{result:(0,r.default)(a,u,g,h,n,{fragmentMatcher:d,resultMapper:f}),complete:!h.hasMissingField}}function l(e){if(!(0,t.isIdValue)(e))throw new Error(\"Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.\")}function c(e,r){if((0,t.isIdValue)(e))return u({},e,{previousResult:r});if(Array.isArray(e)){var i=new Map;return Array.isArray(r)&&r.forEach(function(e){e&&e[n]&&i.set(e[n],e)}),e.map(function(e,u){var n=r&&r[u];return(0,t.isIdValue)(e)&&(n=i.get(e.id)||n),c(e,n)})}return e}function f(e,r){if(r.previousResult){var t=Object.keys(e);if(Object.keys(r.previousResult).reduce(function(e,r){return e&&t.indexOf(r)>-1},!0)&&t.every(function(t){return v(e[t],r.previousResult[t])}))return r.previousResult}return Object.defineProperty(e,n,{enumerable:!1,configurable:!1,writable:!1,value:r.id}),e}function v(e,r){return e===r||!(!Array.isArray(e)||!Array.isArray(r)||e.length!==r.length)&&e.every(function(e,t){return v(e,r[t])})}"},"hash":"99192fdb3936c124863ec0953042b01b","cacheData":{"env":{}}}